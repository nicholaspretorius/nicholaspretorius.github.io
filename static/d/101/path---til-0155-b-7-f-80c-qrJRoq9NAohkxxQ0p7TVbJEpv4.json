{"data":{"markdownRemark":{"html":"<p>If you have a service or module that you need to mock for tests, you can easily do this with <a href=\"https://jestjs.io/\">Jest</a>. </p>\n<h3>Mocking a Service</h3>\n<p>In order to mock one of your own services, to set it up, you can do the following in your test file:</p>\n<pre><code>import serviceToBeMocked from \"./path/to/service\";\n\n...\n\njest.mock(\"./path/to/service\", () => ({\n    functionToBeMocked: jest.fn()\n}));\n</code></pre>\n<p>From there, you can mock the implementation where you need it, for example:</p>\n<pre><code>describe(\"renders\", () => {\n    \n    ...\n    \n    serviceToBeMocked.functionToBeMocked.mockImplementation(() => {\n        return yourMockData;\n    })\n    \n    ...\n});\n</code></pre>\n<h3>Mocking a Module</h3>\n<p>If you need to mock a module used in your application, you can also use Jest for this. If you needed to mock Axios for example, you can do the following: </p>\n<pre><code>...\n\nimport axios from \"axios\";\n\njest.mock(\"axios\");\n\naxios.mockImplementationOnce(() => \n    Promise.resolve({\n        data: {\n            id: 1,\n            name: \"Joe Soap\",\n            ...\n        }\n    })\n);\n\n...\n</code></pre>\n<p>When it comes time to make your assertions, can do the following: </p>\n<pre><code>it(\"does something\", async () => {\n    \n    ...\n\n    await wait(() => {\n        expect(axios).toHaveBeenCalledTimes(1);\n    });\n\n    ...\n\n});\n</code></pre>","frontmatter":{"title":"An Example of Mocking a Services and a Module with Jest."}}},"pageContext":{"slug":"/til0155/"}}